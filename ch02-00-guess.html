<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>A simple Guessing Game</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');
                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }
                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="ch01-start.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch01-02-install.html"><strong aria-hidden="true">1.1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="ch01-03-hw.html"><strong aria-hidden="true">1.2.</strong> Hello World</a></li></ol></li><li class="chapter-item expanded "><a href="ch02-00-guess.html" class="active"><strong aria-hidden="true">2.</strong> A simple Guessing Game</a></li><li class="chapter-item expanded "><a href="ch03-00-concepts.html"><strong aria-hidden="true">3.</strong> Basic Concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch03-01-variables.html"><strong aria-hidden="true">3.1.</strong> Variables</a></li><li class="chapter-item expanded "><a href="ch03-02-functions.html"><strong aria-hidden="true">3.2.</strong> Functions</a></li><li class="chapter-item expanded "><a href="ch03-04-comments.html"><strong aria-hidden="true">3.3.</strong> Comments</a></li><li class="chapter-item expanded "><a href="ch03-04-classes-enums.html"><strong aria-hidden="true">3.4.</strong> Enums and Classes</a></li></ol></li><li class="chapter-item expanded "><a href="ch04-00-lifetimes.html"><strong aria-hidden="true">4.</strong> Understanding Lifetimes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch04-01-what-is-lifetime.html"><strong aria-hidden="true">4.1.</strong> What is a lifetime?</a></li><li class="chapter-item expanded "><a href="ch04-02-lifetimes-in-typesharp.html"><strong aria-hidden="true">4.2.</strong> How to use lifetimes in Typesharp</a></li></ol></li><li class="chapter-item expanded "><a href="ch05-00-type-system.html"><strong aria-hidden="true">5.</strong> Typesharps Type system</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch05-01-generics.html"><strong aria-hidden="true">5.1.</strong> Generics</a></li><li class="chapter-item expanded "><a href="ch05-02-declarations.html"><strong aria-hidden="true">5.2.</strong> Type Declarations</a></li><li class="chapter-item expanded "><a href="ch05-03-unions.html"><strong aria-hidden="true">5.3.</strong> Unions</a></li><li class="chapter-item expanded "><a href="ch05-04-lasso.html"><strong aria-hidden="true">5.4.</strong> Lasso Types</a></li><li class="chapter-item expanded "><a href="ch05-05-expression.html"><strong aria-hidden="true">5.5.</strong> Evaluating Types</a></li><li class="chapter-item expanded "><a href="ch05-06-constants.html"><strong aria-hidden="true">5.6.</strong> Constant Types</a></li><li class="chapter-item expanded "><a href="ch05-06-instancing.html"><strong aria-hidden="true">5.7.</strong> Instance Types</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                            <li role="none" disabled="true"><button role="menuitem" class="theme" id="gitdark" disabled>Github Dark</button></li>
                            <li role="none" disabled="true"><button role="menuitem" class="theme" id="gitlight" disabled>Github Light</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="a-simple-guessing-game"><a class="header" href="#a-simple-guessing-game">A simple Guessing game</a></h1>
<p>Now that we've made a very simple program that prints &quot;Hello, world&quot; to  console, let's make a simple guessing game! The game will take a number  given by the player and check if it matches a randomly generated number  by the computer. If the number is too high, the computer will say &quot;too  high&quot; and respectively, &quot;too low&quot; if the number the player inputs is too low.</p>
<h2 id="getting-setup"><a class="header" href="#getting-setup">Getting Setup</a></h2>
<p>We can use what we learned from the <a href="">hello world</a> example for generating a TypeSharp project by opening a terminal and executing:</p>
<pre><code class="language-shell">$ ts init &quot;number_game&quot;
</code></pre>
<p>Now that we have our project setup, navigate to the <code>mod.ts</code> file in the <code>src</code> directory of the project and open it in an editor.</p>
<p>If you'd like, you can make sure you did everything correctly by executing the following in the currently open terminal:</p>
<pre><code class="language-shell">$ ts run
</code></pre>
<p>Which should output:</p>
<pre><code class="language-shell">&quot;Hello, world!&quot;
</code></pre>
<h2 id="generating-a-number"><a class="header" href="#generating-a-number">Generating a number</a></h2>
<p>By default, TypeSharp does <strong>not</strong> implement any utilities for generating random numbers, you'll need to include this from the standard library! You can achieve this in one of the following ways:</p>
<ul>
<li>Using the &quot;use&quot; keyword, for example: <code>use std.math</code></li>
<li>Using the &quot;import&quot; keyword, with js-like syntax: <code>import { math } from 'std'</code></li>
</ul>
<p>With that said, we're going to stick to the first way, and the most standardized way of importing in TypeSharp. In your <code>src/mod.ts</code> file, add:</p>
<pre><code class="language-typesharp">use std.math;
</code></pre>
<h4 id="making-a-working-prototype"><a class="header" href="#making-a-working-prototype">Making a working prototype</a></h4>
<p>Now that we have our import, we need to add the code to save a random number for the user to guess. By default, TypeSharp is <strong>strict</strong>. Meaning, variables are only mutable to it's predefined type. With that said, let's get some things working!</p>
<p>Before we do anything, we need to tell the compiler that we would like to use lazy numbers, because they are not enabled by default, let's do that with the following:</p>
<pre><code class="language-typesharp"># compiler numerics-lazy
</code></pre>
<p>Firstly we need to store the random number to the heap so we can check later if the user is guessing correctly, let's store this as a scoped constant.</p>
<pre><code class="language-typesharp">const rand_number: int = rand(0, 100);
</code></pre>
<p>Next, before we can start checking inputs from the user, we need to make a function to verify if the <em>guessed number</em> is close to the <em>rand_number</em>. We're going to call this function &quot;verify_number&quot;, however you can name it whatever you like.</p>
<pre><code class="language-typesharp">fn verify_number(guess: int): bool {
    // ...
}
</code></pre>
<p>Now we need to implement the checking for each guess, we're going to use some simple logic operations for this. If <code>guess</code> is higher than <code>rand_number</code> we will print &quot;Guess is too high.&quot;, and if the guess is too low, we will print &quot;Guess is too low&quot;.</p>
<pre><code class="language-typesharp">if (guess &gt; rand_number) {
    println(&quot;Guess is too high.&quot;);
} else if (guess &lt; rand_number) {
    println(&quot;Guess is too low.&quot;);
} else if (guess === rand_number) {
    return true;
}
return false;
</code></pre>
<p>Great, we have the logic implemented, now we need to get an input from the user, and check if the input is equal to <code>rand_number</code>, if it is, end the program with a &quot;GG, the number was: <number>&quot;. However in order to keep the game running, we're going to wrap this logic in a loop, and end when the verify_number function returns &quot;true&quot;. We'll do this by using TypeSharp's standard <code>input</code> function from <code>std.io.util.input</code>, however we will import all io utilities with <code>use std.io.util</code>, so add this import to the top of your program now.</p>
<pre><code class="language-typesharp">fn game_loop(): void {
    const guess: int = input(&quot;Guess a number from 1 - 100: &quot;) ?? 0;
    const end_game: bool = verify_number(guess);
    if (end_game) {
        println(&quot;GG, the number was: &quot; . rand_number);
    } else {
        game_loop();
    }
}
</code></pre>
<p>With this completed, we can simply invoke the <code>game_loop</code> function by using the <code>@main</code> decorator in TypeSharp; and after we do this our simple guessing program should now be complete! The final product should look similar to the following.</p>
<pre><code class="language-typesharp"># compiler numerics-lazy
use std.math;
use std.io.util;

const rand_number: int = rand(0, 100);

fn verify_number(guess: int): bool {
    if (guess &gt; rand_number) {
        println(&quot;Guess is too high.&quot;);
    } else if (guess &lt; rand_number) {
        println(&quot;Guess is too low.&quot;);
    } else if (guess === rand_number) {
        return true;
    }
    return false;
}

@main
fn game_loop(): void {
    const guess: int = input(&quot;Guess a number from 1 - 100: &quot;) ?? 0;
    const end_game: bool = verify_number(guess);
    if (end_game) {
        println(&quot;GG, the number was: &quot; . rand_number);
    } else {
        game_loop();
    }
}
</code></pre>
<h2 id="running-our-program"><a class="header" href="#running-our-program">Running our program</a></h2>
<p>There are multiple ways to run a TypeSharp program, you could either do the first, and most recommended solution for production, aka the one you learned in the <a href="">Hello World</a> example; or you can make use of <code>ts run</code>, which will run a &quot;script&quot; or &quot;package&quot; given the command was ran properly, syntax can be seen in <strong>Block.1</strong> or can use the command <code>ts compile</code> from the previous guide.</p>
<h5 id="block1"><a class="header" href="#block1">Block.1</a></h5>
<p>You will need to first open a terminal in your project's <a href="">parent directory</a> and execute the following command for this to work:</p>
<pre><code class="language-shell">ts run .
</code></pre>
<p>We used <code>ts compile</code> and execute the binary in the bin directory in your project, however your final solution should be similar to:</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="ch01-03-hw.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="ch03-00-concepts.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="ch01-03-hw.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="ch03-00-concepts.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <!-- Additional Langs -->
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="typesharp.js"></script>
    </body>
</html>